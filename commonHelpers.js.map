{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const search_images = query => {\n  const url = 'https://pixabay.com/api/';\n  return fetch(\n    url +\n      `?key=45275366-6244e97cf540ed2b53abd51ec&q=${query}&image_type=photo&safesearch=true&orientation=horizontal`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n\n      return response.json();\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n","export function createGalleryMarkup(images) {\n  return images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `<li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                <img\n                    class=\"gallery-image\"\n                    src=\"${webformatURL}\"\n                    alt=\"${tags}\"\n                    />\n            </a>\n            <div class=\"info\">\n                <div><span>Likes:</span> ${likes}</div>\n                <div><span>Views:</span> ${views}</div>\n                <div><span>Comments:</span> ${comments}</div>\n                <div><span>Downloads:</span> ${downloads}</div>\n            </div>\n         </li>\n\n`\n    )\n    .join('');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { search_images } from './js/pixabay-api';\nimport { createGalleryMarkup } from './js/render-functions';\n\nconst gallery = document.querySelector('.gallery');\n\nconst searchForm = document.querySelector('.js-search-form');\n\nsearchForm.addEventListener('submit', event => {\n  event.preventDefault();\n  const query = searchForm.elements.user_query.value;\n  const loaderContainer = document.querySelector('.loader-container');\n  searchForm.reset();\n  gallery.innerHTML = '';\n\n  const loader = document.createElement('span');\n  loader.className = 'loader';\n  loaderContainer.appendChild(loader);\n\n  search_images(query)\n    .then(({ hits }) => {\n      if (hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topCenter',\n        });\n      }\n\n      loader.remove();\n\n      gallery.insertAdjacentHTML('beforeend', createGalleryMarkup(hits));\n\n      const lightbox = new SimpleLightbox('.gallery a', {\n        captions: true,\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n\n      lightbox.refresh();\n    })\n    .catch(error => {\n      loader.remove();\n      iziToast.error({\n        message: 'An error occurred while fetching images. Please try again!',\n        position: 'topCenter',\n      });\n      console.error('Error fetching images:', error);\n    });\n});\n"],"names":["search_images","query","response","err","createGalleryMarkup","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","gallery","searchForm","event","loaderContainer","loader","hits","iziToast","SimpleLightbox","error"],"mappings":"6vBAAO,MAAMA,EAAgBC,GAEpB,MADK,2BAGR,6CAA6CA,CAAK,0DACrD,EACE,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACrB,CAAK,ECfE,SAASC,EAAoBC,EAAQ,CAC1C,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA,4CACoCL,CAAa;AAAA;AAAA;AAAA,2BAG9BD,CAAY;AAAA,2BACZE,CAAI;AAAA;AAAA;AAAA;AAAA,2CAIYC,CAAK;AAAA,2CACLC,CAAK;AAAA,8CACFC,CAAQ;AAAA,+CACPC,CAAS;AAAA;AAAA;AAAA;AAAA,CAKnD,EACA,KAAK,EAAE,CACZ,CCvBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAa,SAAS,cAAc,iBAAiB,EAE3DA,EAAW,iBAAiB,SAAUC,GAAS,CAC7CA,EAAM,eAAc,EACpB,MAAMd,EAAQa,EAAW,SAAS,WAAW,MACvCE,EAAkB,SAAS,cAAc,mBAAmB,EAClEF,EAAW,MAAK,EAChBD,EAAQ,UAAY,GAEpB,MAAMI,EAAS,SAAS,cAAc,MAAM,EAC5CA,EAAO,UAAY,SACnBD,EAAgB,YAAYC,CAAM,EAElCjB,EAAcC,CAAK,EAChB,KAAK,CAAC,CAAE,KAAAiB,KAAW,CACdA,EAAK,SAAW,GAClBC,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WACpB,CAAS,EAGHF,EAAO,OAAM,EAEbJ,EAAQ,mBAAmB,YAAaT,EAAoBc,CAAI,CAAC,EAEhD,IAAIE,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,MACd,aAAc,GACtB,CAAO,EAEQ,QAAO,CACtB,CAAK,EACA,MAAMC,GAAS,CACdJ,EAAO,OAAM,EACbE,EAAS,MAAM,CACb,QAAS,6DACT,SAAU,WAClB,CAAO,EACD,QAAQ,MAAM,yBAA0BE,CAAK,CACnD,CAAK,CACL,CAAC"}